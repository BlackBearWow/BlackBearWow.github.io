<html>
<body style="background-color:black">
<center>
<canvas id="can" width="1200" height="800" style="border:10px solid #c3c3c3;  cursor:none;"/>
<p id="abb"></p>
</center>
<script>
var map={};
var mw=prompt("mw 가로 칸 개수");//가로
var mh=prompt("mh 세로 칸 개수");//세로
var can=document.getElementById("can");
var ctx=can.getContext("2d");
var a=new Image();
a.src="https://diotheworld.github.io/image/바닥.png";
var x=0,y=0;
var mouseX, mouseY;
var mouse=new Image();
mouse.src=("https://diotheworld.github.io/image/cursor.png");

window.addEventListener('keydown',function(e){ map[e.keyCode]=true; })
window.addEventListener('keyup',function(e){ map[e.keyCode]=false; })
document.getElementById("can").addEventListener('mousemove', function (e) { mouseX = e.offsetX; mouseY = e.offsetY; })

var blockMap=new Array(mh);
for(y_=0;y_<mh;y_++)
for(x_=0;x_<mw;x_++)
blockMap[y][x]=10000;


function drawInformation(){
	ctx.font="30px Comic Sans MS";
	ctx.fillStyle = "red";
	ctx.fillText(x+' '+y+' '+mh+''+mh+'',10,50);
}
ctx.fillStyle = "black";
ctx.fillRect(0,0,1200,40);
ctx.fillRect(0,760,1200,40);
ctx.fillRect(0,0,80,800);
ctx.fillRect(1120,0,80,800);
setInterval(update,20);
function update(){
if(map[37]) x-=2; else if(map[39]) x+=2;
if(map[38]) y-=2; else if(map[40]) y+=2;
for(y_=0;y_<mh;y_++)
for(x_=0;x_<mw;x_++)
if(blockMap[y_][x_]==10000) 
ctx.drawImage(a,x_*40,y_*40,40,40);
drawInformation();
ctx.drawImage(mouse,mouseX,mouseY,30,30);
}
</script>
</body>
</html> 

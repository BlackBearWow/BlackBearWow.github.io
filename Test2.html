<html>
<head>
</head>
<body onload="start()" style="background-color:black">
<center>
<canvas id="can" width="1200" height="1000" style="border:1px solid #c3c3c3"/>
</center>
<script>
var can=document.getElementById("can");
var ctx=can.getContext("2d");
var map={};
var x,y;
x=0; y=0;
var backgroundx,backgroundy,charx,chary;
var mw,mh;<!--mapwidth mapheight-->
mw=1200;
mh=1000;
var background1=new Image();
background1.src=("배경.png");
var char1=new Image();
char1.src=("https://diotheworld.github.io/image/a.jpg");

function start(){
setInterval(update,0);
window.addEventListener('keydown',function(e){ 
map[e.keyCode]=true;
})
window.addEventListener('keyup',function(e){
map[e.keyCode]=false;
})
}

function update(){
if(map[37]&&x>0) x-=1;<!--좌-->
else if(map[39]&&x<mw-40) x+=1;<!--우-->
if(map[38]&&y>0) y-=1;<!--상-->
else if(map[40]&&y<mh-40) y+=1;<!--하-->

if(x<=580){ backgroundx=0; charx=x; }
else if(x>580&&x<=mw-620){ backgroundx=-x+580; charx=580; }
else if(x>mw-620){ backgroundx=-mw+1200; charx=x-mw+1200; }

if(y<=380){ backgroundy=0; chary=y; }
else if(y>380&&y<=mh-420){ backgroundy=-y+380; chary=380; }
else if(y>mh-420){ backgroundy=-mh+800; chary=y-mh+800; }

ctx.drawImage(background1,backgroundx,backgroundy,mw,mh);
ctx.drawImage(char1,charx,chary,40,40);
ctx.font="50px Comic Sans MS";
ctx.fillStyle = "red";
ctx.fillText("x="+x+" y="+y,10,50);
}

</script>
</body>
</html>
